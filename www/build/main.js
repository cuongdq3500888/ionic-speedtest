webpackJsonp([0],{179:function(n,l){function t(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id=179},209:function(n,l){function t(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id=209},282:function(n,l,t){"use strict";function e(n){return c._19(0,[(n()(),c.Z(0,0,null,null,2,"ion-nav",[],null,null,null,H.b,H.a)),c._14(6144,null,V.a,null,[J.a]),c.Y(2,4374528,null,0,J.a,[[2,X.a],[2,Q.a],nn.a,ln.a,tn.a,c.j,c.u,c.z,c.i,en.l,on.a,[2,un.a],rn.a,c.k],{root:[0,"root"]},null),(n()(),c._18(-1,null,["\n"]))],function(n,l){n(l,2,0,l.component.rootPage)},null)}function o(n){return c._19(0,[(n()(),c.Z(0,0,null,null,2,"ion-option",[],null,null,null,null,null)),c.Y(1,16384,[[4,4]],0,cn.a,[c.j],{value:[0,"value"]},null),(n()(),c._18(2,null,["",""]))],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,2,0,null==l.context.$implicit?null:l.context.$implicit.NAME)})}function u(n){return c._19(0,[(n()(),c.Z(0,0,null,null,34,"ion-row",[["class","row"]],null,null,null,null,null)),c.Y(1,16384,null,0,pn.a,[],null,null),(n()(),c._18(-1,null,["\n                "])),(n()(),c.Z(3,0,null,null,2,"ion-col",[["class","col"],["col-1",""]],null,null,null,null,null)),c.Y(4,16384,null,0,hn.a,[],null,null),(n()(),c._18(5,null,["\n                  ","\n                "])),(n()(),c._18(-1,null,["\n                "])),(n()(),c.Z(7,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),c.Y(8,16384,null,0,hn.a,[],null,null),(n()(),c._18(9,null,["\n                    ","\n                "])),(n()(),c._18(-1,null,["\n                "])),(n()(),c.Z(11,0,null,null,2,"ion-col",[["class","col"],["col-4",""]],null,null,null,null,null)),c.Y(12,16384,null,0,hn.a,[],null,null),(n()(),c._18(13,null,["\n                    ","\n                "])),(n()(),c._18(-1,null,["\n                "])),(n()(),c.Z(15,0,null,null,2,"ion-col",[["class","col"],["col-4",""]],null,null,null,null,null)),c.Y(16,16384,null,0,hn.a,[],null,null),(n()(),c._18(17,null,["\n                    ","\n                "])),(n()(),c._18(-1,null,["\n                "])),(n()(),c.Z(19,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),c.Y(20,16384,null,0,hn.a,[],null,null),(n()(),c._18(21,null,["\n                    ","\n                "])),(n()(),c._18(-1,null,["\n                "])),(n()(),c.Z(23,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),c.Y(24,16384,null,0,hn.a,[],null,null),(n()(),c._18(25,null,["\n                    ","\n                "])),(n()(),c._18(-1,null,["\n                "])),(n()(),c.Z(27,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),c.Y(28,16384,null,0,hn.a,[],null,null),(n()(),c._18(29,null,["\n                    ","\n                "])),(n()(),c._18(-1,null,["\n                "])),(n()(),c.Z(31,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),c.Y(32,16384,null,0,hn.a,[],null,null),(n()(),c._18(33,null,["\n                    ","\n                "])),(n()(),c._18(-1,null,["\n              "]))],null,function(n,l){n(l,5,0,null==l.context.$implicit?null:l.context.$implicit.id);n(l,9,0,null==l.context.$implicit?null:l.context.$implicit.time);n(l,13,0,null==l.context.$implicit?null:l.context.$implicit.ip);n(l,17,0,null==l.context.$implicit?null:l.context.$implicit.server);n(l,21,0,null==l.context.$implicit?null:l.context.$implicit.jitter);n(l,25,0,null==l.context.$implicit?null:l.context.$implicit.ping);n(l,29,0,null==l.context.$implicit?null:l.context.$implicit.download);n(l,33,0,null==l.context.$implicit?null:l.context.$implicit.upload)})}function r(n){return c._19(0,[(n()(),c.Z(0,0,null,null,51,"ion-col",[["class","col"],["col-24",""],["col-lg-18",""],["col-xl-18",""]],null,null,null,null,null)),c.Y(1,16384,null,0,hn.a,[],null,null),(n()(),c._18(-1,null,["\n        "])),(n()(),c.Z(3,0,null,null,47,"ion-card",[["class","card-meter"]],null,null,null,null,null)),c.Y(4,16384,null,0,dn.a,[ln.a,c.j,c.z],null,null),(n()(),c._18(-1,null,["\n          "])),(n()(),c.Z(6,0,null,null,0,"div",[["id","resultBtn"]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.shareResults()&&e}return e},null,null)),(n()(),c._18(-1,null,["\n          "])),(n()(),c.Z(8,0,null,null,41,"ion-grid",[["class","grid"]],null,null,null,null,null)),c.Y(9,16384,null,0,gn.a,[],null,null),(n()(),c._18(-1,null,["\n            "])),(n()(),c.Z(11,0,null,null,34,"ion-row",[["class","row"]],null,null,null,null,null)),c.Y(12,16384,null,0,pn.a,[],null,null),(n()(),c._18(-1,null,["\n              "])),(n()(),c.Z(14,0,null,null,2,"ion-col",[["class","col"],["col-1",""]],null,null,null,null,null)),c.Y(15,16384,null,0,hn.a,[],null,null),(n()(),c._18(-1,null,["\n                Id\n              "])),(n()(),c._18(-1,null,["\n              "])),(n()(),c.Z(18,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),c.Y(19,16384,null,0,hn.a,[],null,null),(n()(),c._18(-1,null,["\n                Time\n              "])),(n()(),c._18(-1,null,["\n              "])),(n()(),c.Z(22,0,null,null,2,"ion-col",[["class","col"],["col-4",""]],null,null,null,null,null)),c.Y(23,16384,null,0,hn.a,[],null,null),(n()(),c._18(-1,null,["\n                IP\n              "])),(n()(),c._18(-1,null,["\n              "])),(n()(),c.Z(26,0,null,null,2,"ion-col",[["class","col"],["col-4",""]],null,null,null,null,null)),c.Y(27,16384,null,0,hn.a,[],null,null),(n()(),c._18(-1,null,["\n                Server\n              "])),(n()(),c._18(-1,null,["\n              "])),(n()(),c.Z(30,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),c.Y(31,16384,null,0,hn.a,[],null,null),(n()(),c._18(-1,null,["\n                Jitter\n              "])),(n()(),c._18(-1,null,["\n              "])),(n()(),c.Z(34,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),c.Y(35,16384,null,0,hn.a,[],null,null),(n()(),c._18(-1,null,["\n                Ping\n              "])),(n()(),c._18(-1,null,["\n              "])),(n()(),c.Z(38,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),c.Y(39,16384,null,0,hn.a,[],null,null),(n()(),c._18(-1,null,["\n                DL\n              "])),(n()(),c._18(-1,null,["\n              "])),(n()(),c.Z(42,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),c.Y(43,16384,null,0,hn.a,[],null,null),(n()(),c._18(-1,null,["\n                UL\n              "])),(n()(),c._18(-1,null,["\n            "])),(n()(),c._18(-1,null,["\n      \n            "])),(n()(),c.U(16777216,null,null,1,null,u)),c.Y(48,802816,null,0,fn.h,[c.I,c.F,c.p],{ngForOf:[0,"ngForOf"]},null),(n()(),c._18(-1,null,["\n          "])),(n()(),c._18(-1,null,["\n        "])),(n()(),c._18(-1,null,["\n      "]))],function(n,l){n(l,48,0,l.component.results)},null)}function i(n){return c._19(0,[(n()(),c.Z(0,0,null,null,10,"ion-header",[],null,null,null,null,null)),c.Y(1,16384,null,0,mn.a,[ln.a,c.j,c.z,[2,X.a]],null,null),(n()(),c._18(-1,null,["\n  "])),(n()(),c.Z(3,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,_n.b,_n.a)),c.Y(4,49152,null,0,vn.a,[nn.a,[2,X.a],[2,Q.a],ln.a,c.j,c.z],null,null),(n()(),c._18(-1,3,["\n    "])),(n()(),c.Z(6,0,null,3,2,"ion-title",[],null,null,null,bn.b,bn.a)),c.Y(7,49152,null,0,yn.a,[ln.a,c.j,c.z,[2,wn.a],[2,vn.a]],null,null),(n()(),c._18(-1,0,["\n      SPEED TEST\n    "])),(n()(),c._18(-1,3,["\n  "])),(n()(),c._18(-1,null,["\n"])),(n()(),c._18(-1,null,["\n\n"])),(n()(),c.Z(12,0,null,null,63,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,kn.b,kn.a)),c.Y(13,4374528,null,0,Tn.a,[ln.a,tn.a,rn.a,c.j,c.z,nn.a,Cn.a,c.u,[2,X.a],[2,Q.a]],null,null),(n()(),c._18(-1,1,["\n  "])),(n()(),c.Z(15,0,null,1,59,"ion-grid",[["class","grid"]],null,null,null,null,null)),c.Y(16,16384,null,0,gn.a,[],null,null),(n()(),c._18(-1,null,["\n    "])),(n()(),c.Z(18,0,null,null,55,"ion-row",[["class","row"]],null,null,null,null,null)),c.Y(19,16384,null,0,pn.a,[],null,null),(n()(),c._18(-1,null,["\n      "])),(n()(),c.Z(21,0,null,null,48,"ion-col",[["class","col"],["col-24",""],["col-lg-6",""],["col-md-12",""],["col-sm-12",""],["col-xl-6",""]],null,null,null,null,null)),c.Y(22,16384,null,0,hn.a,[],null,null),(n()(),c._18(-1,null,["\n        "])),(n()(),c.Z(24,0,null,null,44,"ion-card",[["class","card-meter"]],null,null,null,null,null)),c.Y(25,16384,null,0,dn.a,[ln.a,c.j,c.z],null,null),(n()(),c._18(-1,null,["\n          "])),(n()(),c.Z(27,0,null,null,11,"div",[["class","graphArea"]],null,null,null,null,null)),(n()(),c._18(-1,null,["\n            "])),(n()(),c.Z(29,0,null,null,1,"div",[["class","graphName"]],null,null,null,null,null)),(n()(),c._18(30,null,["",""])),(n()(),c._18(-1,null,["\n            "])),(n()(),c.Z(32,0,null,null,0,"canvas",[["class","meter"],["id","dlMeter"]],null,null,null,null,null)),(n()(),c._18(-1,null,["\n            "])),(n()(),c.Z(34,0,null,null,0,"div",[["class","meterText"],["id","dlText"]],null,null,null,null,null)),(n()(),c._18(-1,null,["\n            "])),(n()(),c.Z(36,0,null,null,1,"div",[["class","unit"]],null,null,null,null,null)),(n()(),c._18(37,null,["",""])),(n()(),c._18(-1,null,["\n          "])),(n()(),c._18(-1,null,["\n          "])),(n()(),c.Z(40,0,null,null,22,"ion-item",[["class","item item-block"]],null,null,null,En.b,En.a)),c.Y(41,1097728,null,3,Sn.a,[Pn.a,ln.a,c.j,c.z,[2,In.a]],null,null),c._16(335544320,1,{contentLabel:0}),c._16(603979776,2,{_buttons:1}),c._16(603979776,3,{_icons:1}),c.Y(45,16384,null,0,Ln.a,[],null,null),(n()(),c._18(-1,2,["\n            "])),(n()(),c.Z(47,0,null,1,2,"ion-label",[],null,null,null,null,null)),c.Y(48,16384,[[1,4]],0,On.a,[ln.a,c.j,c.z,[8,null],[8,null],[8,null],[8,null]],null,null),(n()(),c._18(-1,null,["Server: "])),(n()(),c._18(-1,2,["\n            "])),(n()(),c.Z(51,0,null,3,10,"ion-select",[["cancelText","Cancel"],["okText","OK"]],[[2,"select-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keyup.space"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==c._11(n,52)._click(t)&&e}if("keyup.space"===l){e=!1!==c._11(n,52)._keyup()&&e}if("ngModelChange"===l){e=!1!==(o.server=t)&&e}return e},Rn.b,Rn.a)),c.Y(52,1228800,null,1,Mn.a,[nn.a,Pn.a,ln.a,c.j,c.z,[2,Sn.a],un.a],{cancelText:[0,"cancelText"],okText:[1,"okText"],selectOptions:[2,"selectOptions"]},null),c._16(603979776,4,{options:1}),c._14(1024,null,Dn.e,function(n){return[n]},[Mn.a]),c.Y(55,671744,null,0,Dn.h,[[8,null],[8,null],[8,null],[2,Dn.e]],{model:[0,"model"]},{update:"ngModelChange"}),c._14(2048,null,Dn.f,null,[Dn.h]),c.Y(57,16384,null,0,Dn.g,[Dn.f],null,null),(n()(),c._18(-1,null,["\n              "])),(n()(),c.U(16777216,null,null,1,null,o)),c.Y(60,802816,null,0,fn.h,[c.I,c.F,c.p],{ngForOf:[0,"ngForOf"]},null),(n()(),c._18(-1,null,["\n            "])),(n()(),c._18(-1,2,["\n          "])),(n()(),c._18(-1,null,["\n          "])),(n()(),c.Z(64,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),c._18(65,null,["Your IP: ",""])),(n()(),c._18(-1,null,["\n          "])),(n()(),c.Z(67,0,null,null,0,"div",[["id","startStopBtn"]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.startStop()&&e}return e},null,null)),(n()(),c._18(-1,null,["\n        "])),(n()(),c._18(-1,null,["\n      "])),(n()(),c._18(-1,null,["\n      "])),(n()(),c.U(16777216,null,null,1,null,r)),c.Y(72,16384,null,0,fn.i,[c.I,c.F],{ngIf:[0,"ngIf"]},null),(n()(),c._18(-1,null,["\n    "])),(n()(),c._18(-1,null,["\n  "])),(n()(),c._18(-1,1,["\n"]))],function(n,l){var t=l.component;n(l,52,0,"Cancel","OK",t.selectOptions);n(l,55,0,t.server);n(l,60,0,t.serverList);n(l,72,0,t.results.length>0)},function(n,l){var t=l.component;n(l,3,0,c._11(l,4)._hidden,c._11(l,4)._sbPadding);n(l,12,0,c._11(l,13).statusbarPadding,c._11(l,13)._hasRefresher);n(l,30,0,null==t.objMeter?null:t.objMeter.graphName);n(l,37,0,null==t.objMeter?null:t.objMeter.unit);n(l,51,0,c._11(l,52)._disabled,c._11(l,57).ngClassUntouched,c._11(l,57).ngClassTouched,c._11(l,57).ngClassPristine,c._11(l,57).ngClassDirty,c._11(l,57).ngClassValid,c._11(l,57).ngClassInvalid,c._11(l,57).ngClassPending);n(l,65,0,null==t.objISP?null:t.objISP.processedString)})}Object.defineProperty(l,"__esModule",{value:!0});var s,a=t(45),c=t(0),p=t(3),h=t(77),d=(t(114),t(99)),g=t(100),f=t(152),m=function(){function n(){this.graphColor={statusColor:"#309030",backgroundColor:"#E0E0E0",progressColor:"#EEEEEE"}}return n.prototype.initUI=function(n){n&&(this.graphColor=n),this.drawMeter(this.I("dlMeter"),0,0),this.I("dlText").textContent=""},n.prototype.I=function(n){return document.getElementById(n)},n.prototype.drawMeter=function(n,l,t,e){var o=e||this.graphColor,u=n.getContext("2d"),r=window.devicePixelRatio||1,i=n.clientWidth*r,s=n.clientHeight*r,a=.0055*s;n.width==i&&n.height==s?u.clearRect(0,0,i,s):(n.width=i,n.height=s),u.beginPath(),u.strokeStyle=o.backgroundColor,u.lineWidth=16*a,u.arc(n.width/2,n.height-58*a,n.height/1.8-u.lineWidth,1.1*-Math.PI,.1*Math.PI),u.stroke(),u.beginPath(),u.strokeStyle=o.statusColor,u.lineWidth=16*a,u.arc(n.width/2,n.height-58*a,n.height/1.8-u.lineWidth,1.1*-Math.PI,l*Math.PI*1.2-1.1*Math.PI),u.stroke(),void 0!==t&&(u.fillStyle=o.progressColor,u.fillRect(.3*n.width,n.height-16*a,.4*n.width*t,4*a))},n.prototype.mbpsToAmount=function(n){return 1-1/Math.pow(1.3,Math.sqrt(n))},n.prototype.msToAmount=function(n){return 1-1/Math.pow(1.08,Math.sqrt(n))},n.prototype.updateUI=function(n){this.I("dlText").textContent=1==n.state&&"0"==n.contermet?"...":n.contermet,this.drawMeter(this.I("dlMeter"),this.mbpsToAmount(Number(Number(n.contermet)*(1==n.state?this.oscillate():1))),Number(n.progress))},n.prototype.oscillate=function(){return 1+.02*Math.sin(Date.now()/100)},n}(),_={NAME:"amazone-heroku-usa",SERVER_URL:"https://cuongdq-speedtest.herokuapp.com",DOWNLOAD:"/speedtest/download",GET_IP:"/speedtest/get-ip",PING:"/speedtest/empty",UPLOAD:"/speedtest/empty",LOCATION:"30.0866,-94.1274",DESCRITPTION:" Máy chủ test internet Tại Mỹ, herokuapp.com"},v=null,b=null,y=0,w=0,k=function(){function n(n){this.httpClient=n}return n.prototype.setWorker=function(n){this.worker=n},n.prototype.setServer=function(n){_=n},n.prototype.url_sep=function(n){return n.match(/\?/)?"&":"?"},n.prototype.postCommand=function(n,l,t){var e;e={},"init"===n&&("ip"===l?(e.graphName="Check your IP",e.unit="ms",e.statusColor="#AA6060",e.backgroundColor="#E0E0E0",e.progressColor="#EEEEEE"):"ping"===l?(e.graphName="Ping",e.unit="ms",e.statusColor="#AA6060",e.backgroundColor="#E0E0E0",e.progressColor="#EEEEEE"):"download"===l?(e.graphName="Download",e.unit="Mbps",e.statusColor="#6060AA",e.backgroundColor="#E0E0E0",e.progressColor="#EEEEEE"):"upload"===l&&(e.graphName="Upload",e.unit="Mbps",e.statusColor="#309030",e.backgroundColor="#E0E0E0",e.progressColor="#EEEEEE"));var o={command:n,work:l,data:t||e};this.worker&&this.worker.postMessage(JSON.stringify(o))},n.prototype.clearRequests=function(){if(v){for(var n=0;n<v.length;n++){try{v[n].onprogress=null,v[n].onload=null,v[n].onerror=null}catch(n){}try{v[n].upload.onprogress=null,v[n].upload.onload=null,v[n].upload.onerror=null}catch(n){}try{v[n].abort()}catch(n){}try{v[n].cancel()}catch(n){}try{v[n].unsubscribe()}catch(n){}try{delete v[n]}catch(n){}}v=null}clearInterval(b)},n.prototype.downloadOne=function(n,l){var t=this;return new Promise(function(l,e){var o=0,u=new h.h("GET",_.SERVER_URL+_.DOWNLOAD+t.url_sep(_.DOWNLOAD)+"r="+Math.random(),{reportProgress:!0,responseType:"arraybuffer"});v[n]=t.httpClient.request(u).subscribe(function(n){switch(n.type){case h.f.Sent:case h.f.ResponseHeader:case h.f.UploadProgress:break;case h.f.DownloadProgress:var t=n.loaded<=0?0:n.loaded-o;(isNaN(t)||!isFinite(t)||t<0)&&e({code:403,message:"isNaN(loadDiff) || !isFinite(loadDiff) || loadDiff < 0"}),y+=t,o=n.loaded;break;case h.f.Response:l(y);break;default:console.log(n)}},function(n){console.log(n),e(n)}),v[n].cancel=function(){e({code:403,message:"Too Slow network!"})}})},n.prototype.uploadOne=function(n,l){var t=this;return new Promise(function(l,e){var o,u=0;o=new ArrayBuffer(1048576);var r=Math.pow(2,32)-1;try{o=new Uint32Array(o);for(var i=0;i<o.length;i++)o[i]=Math.random()*r}catch(n){}var s=[],a=[];for(i=0;i<20;i++)s.push(o);new Blob(s);o=new ArrayBuffer(262144);try{o=new Uint32Array(o);for(i=0;i<o.length;i++)o[n]=Math.random()*r}catch(n){}a.push(o);var c=new Blob(a),p=new File([c],"data.dat"),d=new h.h("POST",_.SERVER_URL+_.UPLOAD+t.url_sep(_.UPLOAD)+"r="+Math.random(),p,{reportProgress:!0});v[n]=t.httpClient.request(d).subscribe(function(n){switch(n.type){case h.f.Sent:case h.f.ResponseHeader:break;case h.f.UploadProgress:Math.round(100*n.loaded/n.total);var t=n.loaded<=0?0:n.loaded-u;(isNaN(t)||!isFinite(t)||t<0)&&e({code:403,message:"isNaN(loadDiff) || !isFinite(loadDiff) || loadDiff < 0"}),y+=t,u=n.loaded;break;case h.f.DownloadProgress:break;case h.f.Response:l(y);break;default:console.log(n)}},function(n){console.log(n),e(n)}),v[n].cancel=function(){e({code:403,message:"Too Slow network!"})}})},n.prototype.pingOne=function(n){var l=this;return new Promise(function(t,e){var o=new h.h("GET",_.SERVER_URL+_.PING+l.url_sep(_.PING)+"r="+Math.random(),{reportProgress:!0});v[n]=l.httpClient.request(o).subscribe(function(n){switch(n.type){case h.f.Sent:case h.f.ResponseHeader:case h.f.UploadProgress:case h.f.DownloadProgress:break;case h.f.Response:t(n)}},function(n){console.log(n),e(n)}),v[n].cancel=function(){e({code:403,message:"Too Slow network!"})}})},n.prototype.getISP=function(){var n=this;w=0,s="...";var l=(new Date).getTime();return this.postCommand("init","ip"),b=setInterval(function(){var n=(new Date).getTime()-l;this.postCommand("progress","ip",{progress:w=n/1e4,contermet:s})}.bind(this),200),this.httpClient.get(_.SERVER_URL+_.GET_IP+this.url_sep(_.GET_IP)+"r="+Math.random()).toPromise().then(function(l){clearInterval(b);var t;return t=l,t.dlProgress=1,t.dlStatus=100*w,n.postCommand("finish","ip",{ip:t.processedString,server:t.server?t.server.ip+" - "+t.server.org+t.server.city+t.server.region+t.server.country:"",duration:10*w}),l})},n.prototype.download=function(){var n=this;y=0,w=0,s="...",v=[];var l=!1,t=(new Date).getTime();return this.postCommand("init","download"),b=setInterval(function(){var n=(new Date).getTime()-t;if(l&&(w=n/15e3),l){s=(8*(y/(n/1e3))*1.06/1e6).toFixed(2),this.postCommand("progress","download",{progress:w,contermet:s}),w>=1&&(console.log("SLOW NETWORK for Download!"),this.clearRequests())}else n>1500&&(y>0&&(t=(new Date).getTime(),y=0),l=!0)}.bind(this),200),new Promise(function(l,e){t=(new Date).getTime();for(var o=function(n,l,e,u){setTimeout(function(){var l=(new Date).getTime()-t;this.downloadOne(n,e).then(function(t){if(l<7500&&e<20){try{v[n].unsubcriber()}catch(n){}o(n,0,e+1,u)}else u&&u(n)}).catch(function(l){u&&u(n)})}.bind(this),1+l)}.bind(n),u=0,r=function(n){10==++u&&l(y)},i=0;i<10;i++)o(i,300*i,1,r)}).then(function(l){return clearInterval(b),n.postCommand("progress","download",{progress:1,contermet:s}),n.postCommand("finish","download",{speed:s}),"DOWNLOAD STOP!"})},n.prototype.upload=function(){var n=this;y=0,w=0,s="...",v=[];var l=!1,t=(new Date).getTime();return this.postCommand("init","upload"),b=setInterval(function(){var n=(new Date).getTime()-t;if(l&&(w=n/15e3),l){s=(8*(y/(n/1e3))*1.06/1e6).toFixed(2),this.postCommand("progress","upload",{progress:w,contermet:s}),w>=1&&(console.log("SLOW NETWORK for Upload!"),this.clearRequests())}else n>3e3&&(y>0&&(t=(new Date).getTime(),y=0),l=!0)}.bind(this),200),new Promise(function(l,e){t=(new Date).getTime();for(var o=function(n,l,e,u){setTimeout(function(){var l=(new Date).getTime()-t;this.uploadOne(n,e).then(function(t){if(l<7500&&e<20){try{v[n].unsubcriber()}catch(n){}o(n,0,e+1,u)}else u&&u(n)}).catch(function(l){u&&u(n)})}.bind(this),1+l)}.bind(n),u=0,r=function(n){10==++u&&l(y)},i=0;i<10;i++)o(i,300*i,1,r)}).then(function(l){return clearInterval(b),n.postCommand("progress","upload",{progress:1,contermet:s}),n.postCommand("finish","upload",{speed:s}),"UPLOAD STOP!"})},n.prototype.ping=function(){var n,l,t=this,e=0,o=0,u=0,r=0;v=[];var i=(new Date).getTime();return this.postCommand("init","ping"),new Promise(function(s,a){var c=function(){var t=this;w=u/10,i=(new Date).getTime(),this.pingOne(0).then(function(a){if(0===u)i=(new Date).getTime();else{var p=(new Date).getTime()-i;try{var h,d=(h=(h=performance.getEntries())[h.length-1]).responseStart-h.requestStart;d<=0&&(d=h.duration),d>0&&d<p&&(p=d)}catch(n){console.log("Performance API not supported, using estimate")}var g=Math.abs(p-r);1===u?e=p:(e=p<e?p:.8*e+.2*p,o=2===u?g:g>o?.3*o+.7*g:.8*o+.2*g),r=p}n=e.toFixed(2),l=o.toFixed(2),++u<10?(c(),t.postCommand("progress","ping",{progress:w,contermet:n})):(w=1,s({ping:n,jitter:l}))}).catch(function(n){console.log(n),a({code:403,message:"fail!",err:n})})}.bind(t);c()}).then(function(n){var l;return l=n,t.postCommand("progress","ping",{progress:1,contermet:l.ping}),t.postCommand("finish","ping",{ping:l.ping,jitter:l.jitter}),n}).catch(function(n){throw console.log("err"),console.log(n),n})},n}(),T=(t(317),t(318)),C=t.n(T),E=t(420),S=t.n(E),P=function(){function n(n){this.httpClient=n,this.authenticationServer="https://cuongdq-oauth.herokuapp.com",this.clientKey=new C.a({b:512},{signingScheme:"pkcs1-sha256"}),this.midleKey=new C.a(null,{signingScheme:"pkcs1-sha256"}),this.serverKey=new C.a(null,{signingScheme:"pkcs1-sha256"}),this.midleKey.importKey(this.clientKey.exportKey("public"))}return n.prototype.getSpeedtestServerList=function(){return this.httpClient.get(this.authenticationServer+"/speedtest-server").toPromise().then(function(n){return n})},n.prototype.getServerPublicRSAKey=function(){var n=this;return this.publicKey&&this.publicKey.PUBLIC_KEY?new Promise(function(l,t){try{n.serverKey.importKey(n.publicKey.PUBLIC_KEY)}catch(n){t(n)}l(n.serverKey)}):this.httpClient.get(this.authenticationServer+"/key-json").toPromise().then(function(l){if(n.publicKey=l,n.publicKey&&n.publicKey.PUBLIC_KEY){try{n.serverKey.importKey(n.publicKey.PUBLIC_KEY)}catch(n){throw n}return n.serverKey}throw new Error("No PUBLIC_KEY exists!")})},n.prototype.login=function(n){var l=this;return this.httpClient.post(this.authenticationServer+"/login",n).toPromise().then(function(n){return l.userToken=n,l.userToken.token})},n.prototype.pushToken=function(n){this.userToken={token:n}},n.prototype.logout=function(){var n=this;if(this.userToken&&this.userToken.token){var l={Authorization:"Bearer "+this.userToken.token};return this.httpClient.post(this.authenticationServer+"/logout",JSON.stringify(l)).toPromise().then(function(l){return console.log(l),n.userToken=null,l}).catch(function(l){return console.log(l),n.userToken=null,l})}return new Promise(function(n,l){n({status:"ok",message:"Logout susccess!"})})},n.prototype.register=function(n){return this.httpClient.post(this.authenticationServer+"/register",n).toPromise().then(function(n){return n})},n.prototype.editUser=function(n){return this.httpClient.post(this.authenticationServer+"/user/save",n).toPromise().then(function(n){return n})},n.prototype.getEdit=function(){var n=this;if(this.userToken&&this.userToken.token){var l={Authorization:"Bearer "+this.userToken.token};return this.httpClient.post(this.authenticationServer+"/api/user-settings",JSON.stringify(l)).toPromise().then(function(l){return n.userSetting=l,l})}return new Promise(function(l,t){n.userSetting=null,t({error:"No token, please login first"})})},n.prototype.getUserToken=function(){return this.userToken.token},n.prototype.getUserInfo=function(){try{this.userInfo=S.a.decode(this.userToken.token),this.userInfo.image&&this.userInfo.image.toLowerCase()&&this.userInfo.image.toLowerCase().indexOf("http://")<0&&this.userInfo.image.toLowerCase().indexOf("https://")<0&&(this.userInfo.image=this.authenticationServer+"/resources/user-image/"+this.userInfo.image+"?token="+this.userToken.token)}catch(n){this.userInfo=null}return this.userInfo},n.prototype.getUserInfoSetting=function(){return this.userSetting.URL_IMAGE&&this.userSetting.URL_IMAGE.toLowerCase()&&this.userSetting.URL_IMAGE.toLowerCase().indexOf("http://")<0&&this.userSetting.URL_IMAGE.toLowerCase().indexOf("https://")<0&&(this.userSetting.URL_IMAGE=this.authenticationServer+"/resources/user-image/"+this.userSetting.URL_IMAGE+"?token="+this.userToken.token),this.userSetting},n}(),I=function(){function n(n){this.geoLocation=n}return n.prototype.getCurrentLocation=function(){var n=this;return this.currenLocation?new Promise(function(l,t){l(n.currenLocation)}):this.init()},n.prototype.init=function(){var n=this;return new Promise(function(l,t){n.stopTracking(),n.geoLocation.getCurrentPosition({enableHighAccuracy:!0,timeout:1e4,maximumAge:7e3}).then(function(t){n.currenLocation=t,n.currenLocation.timereturn=(new Date).getTime(),n.startTracking(),l(n.currenLocation)}).catch(function(l){console.log(l),n.startTracking(),t(l)})})},n.prototype.startTracking=function(){var n=this;this.locationTracking=this.geoLocation.watchPosition({enableHighAccuracy:!0,timeout:5e3,maximumAge:3e3}).subscribe(function(l){n.currenLocation=l,n.currenLocation.timereturn=(new Date).getTime()},function(n){console.log(n)})},n.prototype.stopTracking=function(){try{this.locationTracking.unsubscribe()}catch(n){}},n}(),L=null,O=!1,R=0,M=function(){function n(n,l,t,e,o,u){this.navCtrl=n,this.apiLocation=l,this.apiGraph=t,this.apiAuth=e,this.alertCtrl=o,this.apiHttp=u,this.objMeter={graphName:"Speedtest",unit:"Mbps/ms/km"},this.results=[],this.server={NAME:"amazone-heroku-usa",SERVER_URL:"https://cuongdq-speedtest.herokuapp.com",DOWNLOAD:"/speedtest/download",GET_IP:"/speedtest/get-ip",PING:"/speedtest/empty",UPLOAD:"/speedtest/empty",LOCATION:"30.0866,-94.1274",DESCRITPTION:" Máy chủ test internet Tại Mỹ, herokuapp.com"},this.serverList=[this.server],this.selectOptions={title:"SERVER LIST",subTitle:"Select a server",mode:"md"}}return n.prototype.ngOnInit=function(){var n=this;this.resetContermet(),this.server=this.serverList[0],this.apiAuth.getSpeedtestServerList().then(function(l){var t;t=l;try{t&&(n.serverList=t),n.server=n.serverList[0]}catch(n){}}).catch(function(n){console.log(n)})},n.prototype.resetContermet=function(){this.apiGraph.initUI(),this.objMeter={graphName:"Speedtest",unit:"Mbps/ms/km"},this.apiGraph.updateUI({state:0,contermet:"...",progress:0})},n.prototype.clearRuning=function(){this.alertCtrl.create({title:"Speedtest finish",subTitle:"Thank you for your test with us! See the result and share...",buttons:["OK"]}).present(),this.resetContermet(),O=!1,this.apiGraph.I("startStopBtn").className="",L=null,this.result=null},n.prototype.startStop=function(){var n=this;(O=!O)?(this.apiGraph.I("startStopBtn").className="running",L=new Worker("worker-message.js"),this.apiHttp.setWorker(L),this.apiHttp.setServer(this.server),this.runTestLoop("_I_P_D_U_S_"),L.onmessage=function(l){n.onMessageProcess(l)}):this.apiGraph.I("startStopBtn").className=""},n.prototype.onMessageProcess=function(n){var l=n.data;"init"===l.command?this.initUI(l.data):"progress"===l.command?this.apiGraph.updateUI({state:1,contermet:l.data.contermet,progress:l.data.progress}):"finish"===l.command&&this.updateResults(l.work,l.data)},n.prototype.initUI=function(n){this.objMeter={graphName:n.graphName,unit:n.unit},this.apiGraph.initUI({statusColor:n.statusColor,backgroundColor:n.backgroundColor,progressColor:n.progressColor})},n.prototype.updateResults=function(n,l){if(this.result?this.result=this.results.pop():(this.result={},this.result.id=++R),"ip"==n){var t=new Date,e=t.toISOString().replace(/T/," ").replace(/\..+/,"")+" GMT"+t.getTimezoneOffset()/60+" Local: "+t.toLocaleTimeString();this.result.ip=l.ip,this.result.time=e,this.result.server=l.server?l.server:this.server.SERVER_URL,this.results.push(this.result)}else"download"==n?(this.result.download=l.speed,this.results.push(this.result)):"upload"==n?(this.result.upload=l.speed,this.results.push(this.result)):"ping"==n&&(this.result.ping=l.ping,this.result.jitter=l.jitter,this.results.push(this.result))},n.prototype.runTestLoop=function(n){var l=this,t=0;this.apiLocation.getCurrentLocation().then(function(n){l.result||(l.result={},l.result.id=++R,l.result.start_location=n,l.result.start_time=(new Date).getTime(),l.results.push(l.result))}).catch(function(n){});var e=function(){var l=this,o=n.charAt(t);switch(o){case"_":t++,setTimeout(e,1e3);break;case"S":t++,this.shareResult(),setTimeout(e,1e3);break;case"I":if(t++,!O)return void e();this.apiHttp.getISP().then(function(n){l.objISP=n,e()}).catch(function(n){e()});break;case"P":if(t++,!O)return void e();this.apiHttp.ping().then(function(n){e()}).catch(function(n){e()});break;case"D":if(t++,!O)return void e();this.apiHttp.download().then(function(n){e()}).catch(function(n){e()});break;case"U":if(t++,!O)return void e();this.apiHttp.upload().then(function(n){e()}).catch(function(n){e()});break;default:t++}o||this.clearRuning()}.bind(this);e()},n.prototype.shareResult=function(){var n=this;this.apiLocation.getCurrentLocation().then(function(l){n.result&&(n.result=n.results.pop(),n.result.end_location=l,n.result.end_time=(new Date).getTime(),n.results.push(n.result)),console.log(n.result)}).catch(function(n){})},n.prototype.shareResults=function(){},n}(),D=function(){return function(n,l,t){this.rootPage=M,n.ready().then(function(){l.styleDefault(),t.hide()})}}(),U=function(){function n(){}return n.prototype.resizeImage=function(n,l,t){return new Promise(function(e,o){try{var u=document.createElement("canvas"),r=u.getContext("2d"),i=t,s=t,a=document.createElement("img");a.src=URL.createObjectURL(l),a.onload=function(){var l=a.width,t=a.height,o=Math.min(i/l,s/t),c=l*o,p=t*o;u.width=c,u.height=p,r.drawImage(a,0,0,c,p),u.toBlob(function(l){var t=new FileReader;t.readAsArrayBuffer(l),t.onload=function(){e({imageViewer:u.toDataURL(),file:new Blob([t.result],{type:"image/png"}),name:n})}})}}catch(n){o(n)}})},n}(),x=t(280),A=Object(x.b)(sessionStorage),N=function(){function n(n){this.storage=n}return n.prototype.doSomethingAwesome=function(){var n=this.storage.get("Cng@3500888")||1337;return this.storage.set("Cng@3500888",n+1),n},n.prototype.save=function(n,l){this.storage.set(n,l)},n.prototype.read=function(n){return this.storage.get(n)},n.prototype.delete=function(n){this.storage.remove(n)},n.prototype.getStatus=function(){return"Session storage available: "+A},n.prototype.saveToken=function(n){this.save("token",n)},n.prototype.getToken=function(){return this.read("token")},n.prototype.deleteToken=function(){this.delete("token")},n=Object(p.__decorate)([Object(p.__param)(0,Object(c.m)(x.a))],n)}(),Y=function(){return function(){}}(),Z=t(63),j=t(436),K=t(437),G=t(438),B=t(439),F=t(440),$=t(441),q=t(442),W=t(443),z=t(444),H=t(445),V=t(47),J=t(67),X=t(5),Q=t(25),nn=t(11),ln=t(1),tn=t(4),en=t(9),on=t(39),un=t(17),rn=t(12),sn=c.X({encapsulation:2,styles:[],data:{}}),an=c.V("ng-component",D,function(n){return c._19(0,[(n()(),c.Z(0,0,null,null,1,"ng-component",[],null,null,null,e,sn)),c.Y(1,49152,null,0,D,[tn.a,g.a,d.a],null,null)],null,null)},{},{},[]),cn=t(91),pn=t(124),hn=t(122),dn=t(120),gn=t(123),fn=t(15),mn=t(142),_n=t(446),vn=t(43),bn=t(447),yn=t(98),wn=t(57),kn=t(448),Tn=t(30),Cn=t(41),En=t(281),Sn=t(21),Pn=t(19),In=t(55),Ln=t(86),On=t(54),Rn=t(449),Mn=t(94),Dn=t(20),Un=t(82),xn=c.X({encapsulation:2,styles:[],data:{}}),An=c.V("page-home",M,function(n){return c._19(0,[(n()(),c.Z(0,0,null,null,1,"page-home",[],null,null,null,i,xn)),c.Y(1,114688,null,0,M,[Q.a,I,m,P,Un.a,k],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),Nn=t(150),Yn=t(118),Zn=t(147),jn=t(42),Kn=t(128),Gn=t(233),Bn=t(65),Fn=t(56),$n=t(130),qn=t(83),Wn=t(134),zn=t(146),Hn=t(141),Vn=t(232),Jn=t(148),Xn=t(37),Qn=t(129),nl=t(149),ll=c.W(Y,[Z.b],function(n){return c._7([c._8(512,c.i,c.S,[[8,[j.a,K.a,G.a,B.a,F.a,$.a,q.a,W.a,z.a,an,An]],[3,c.i],c.s]),c._8(5120,c.r,c._15,[[3,c.r]]),c._8(4608,fn.k,fn.j,[c.r,[2,fn.s]]),c._8(5120,c.b,c._1,[]),c._8(5120,c.p,c._9,[]),c._8(5120,c.q,c._12,[]),c._8(4608,a.c,a.q,[fn.c]),c._8(6144,c.D,null,[a.c]),c._8(4608,a.f,Nn.a,[]),c._8(5120,a.d,function(n,l,t,e,o){return[new a.k(n,l),new a.o(t),new a.n(e,o)]},[fn.c,c.u,fn.c,fn.c,a.f]),c._8(4608,a.e,a.e,[a.d,c.u]),c._8(135680,a.m,a.m,[fn.c]),c._8(4608,a.l,a.l,[a.e,a.m]),c._8(6144,c.B,null,[a.l]),c._8(6144,a.p,null,[a.m]),c._8(4608,c.G,c.G,[c.u]),c._8(4608,a.h,a.h,[fn.c]),c._8(4608,a.i,a.i,[fn.c]),c._8(4608,h.j,h.p,[fn.c,c.w,h.n]),c._8(4608,h.q,h.q,[h.j,h.o]),c._8(5120,h.a,function(n){return[n]},[h.q]),c._8(4608,h.m,h.m,[]),c._8(6144,h.k,null,[h.m]),c._8(4608,h.i,h.i,[h.k]),c._8(6144,h.b,null,[h.i]),c._8(4608,h.g,h.l,[h.b,c.o]),c._8(4608,h.c,h.c,[h.g]),c._8(4608,Dn.k,Dn.k,[]),c._8(4608,Dn.c,Dn.c,[]),c._8(4608,Yn.a,Yn.a,[nn.a,ln.a]),c._8(4608,Un.a,Un.a,[nn.a,ln.a]),c._8(4608,Zn.a,Zn.a,[]),c._8(4608,Pn.a,Pn.a,[]),c._8(4608,jn.a,jn.a,[tn.a]),c._8(4608,Cn.a,Cn.a,[ln.a,tn.a,c.u,rn.a]),c._8(4608,Kn.a,Kn.a,[nn.a,ln.a]),c._8(5120,fn.f,Gn.b,[fn.q,[2,fn.a],ln.a]),c._8(4608,fn.e,fn.e,[fn.f]),c._8(5120,Bn.b,Bn.d,[nn.a,Bn.a]),c._8(5120,un.a,un.b,[nn.a,Bn.b,fn.e,Fn.b,c.i]),c._8(4608,$n.a,$n.a,[nn.a,ln.a,un.a]),c._8(4608,qn.a,qn.a,[nn.a,ln.a]),c._8(4608,Wn.a,Wn.a,[nn.a,ln.a,un.a]),c._8(4608,zn.a,zn.a,[ln.a,tn.a,rn.a,nn.a,en.l]),c._8(4608,Hn.a,Hn.a,[nn.a,ln.a]),c._8(4608,on.a,on.a,[tn.a,ln.a]),c._8(4608,g.a,g.a,[]),c._8(4608,d.a,d.a,[]),c._8(4608,f.a,f.a,[]),c._8(4608,m,m,[]),c._8(4608,U,U,[]),c._8(4608,P,P,[h.c]),c._8(4608,N,N,[x.a]),c._8(4608,k,k,[h.c]),c._8(4608,I,I,[f.a]),c._8(512,fn.b,fn.b,[]),c._8(512,c.k,Vn.a,[]),c._8(256,ln.b,{},[]),c._8(1024,Jn.a,Jn.b,[]),c._8(1024,tn.a,tn.b,[a.b,Jn.a,c.u]),c._8(1024,ln.a,ln.c,[ln.b,tn.a]),c._8(512,rn.a,rn.a,[tn.a]),c._8(512,Xn.a,Xn.a,[]),c._8(512,nn.a,nn.a,[ln.a,tn.a,[2,Xn.a]]),c._8(512,en.l,en.l,[nn.a]),c._8(256,Bn.a,{links:[]},[]),c._8(512,c.h,c.h,[]),c._8(512,Qn.a,Qn.a,[c.h]),c._8(1024,Fn.b,Fn.c,[Qn.a,c.o]),c._8(1024,c.c,function(n,l,t,e,o,u,r,i,s,c,p,h,d){return[a.s(n),nl.a(l),Zn.b(t,e),zn.b(o,u,r,i,s),Fn.d(c,p,h,d)]},[[2,c.t],ln.a,tn.a,rn.a,ln.a,tn.a,rn.a,nn.a,en.l,ln.a,Bn.a,Fn.b,c.u]),c._8(512,c.d,c.d,[[2,c.c]]),c._8(131584,c.f,c.f,[c.u,c.T,c.o,c.k,c.i,c.d]),c._8(512,c.e,c.e,[c.f]),c._8(512,a.a,a.a,[[3,a.a]]),c._8(512,h.e,h.e,[]),c._8(512,h.d,h.d,[]),c._8(512,Dn.j,Dn.j,[]),c._8(512,Dn.d,Dn.d,[]),c._8(512,Dn.i,Dn.i,[]),c._8(512,Gn.a,Gn.a,[]),c._8(512,Y,Y,[]),c._8(256,h.n,"XSRF-TOKEN",[]),c._8(256,h.o,"X-XSRF-TOKEN",[]),c._8(256,Z.a,D,[]),c._8(256,fn.a,"/",[])])});Object(c.M)(),Object(a.j)().bootstrapModuleFactory(ll)},322:function(n,l){},324:function(n,l){},359:function(n,l){},360:function(n,l){}},[282]);